---
title: "Working with Primary data"
subtitle: "Cori.data.fcc an example of data as code"
author: "Olivier Leroy"
date: "October 20 2024"
institute: "Center On Rural Innovation"
fontsize: 20pt
format: 
  revealjs: 
    theme: custom_cori.scss
    logo: img/CORI_Logo.png
    css: logo.css
    footnotes-hover:: true
from: markdown+emoji
editor: visual
---

# CORI

## CORI

- Me
- CORI

## Me



# FCC's Data

## Our needs

Connect humanity project

Bead tools 

## Previous workflow:

- What FCC data look like in the wild
- Our previous ingestion process
- Limits of it

## Manual VS Automated:

:::: {.columns}

::: {.column width="50%"}

![](img/manual_fcc.mov)

* :repeat: Repeat for every state  
* :repeat: Repeat for every version  
* :red_circle: Error prone 

:::

::: {.column width="50%"}

::: {.panel-tabset}

### Visual

![](img/dl_nbm_smaller.mov)

### Code

```{r}
#| label: example_dl_nbm
#| eval: false 
#| echo: true 
library(cori.data.fcc)

dir <- "data_swamp/nbm/"

get_nbm_release()

nbm_data <- get_nbm_available()

system(sprintf("mkdir -p %s", dir))

dl_nbm(
  path_to_dl = "data_swamp/nbm",
  release_date = "June 30, 2023",
  data_type = "Fixed Broadband",
  data_category = "Nationwide",
)

```

:::

```{r}
#| label: check_dl
#| eval: false 
#| echo: true 
num_files <- get_nbm_available() |> 
  dplyr::filter(release == "June 30, 2023" &
                data_type == "Fixed Broadband" &
                data_category == "Nationwide") |>
  nrow()

files_dl <- length(list.files(dir, 
                              pattern = "*.zip"))

identical(num_files, files_dl)
# TRUE
```

:::

::::




# cori.data.fcc

## New technologies

- DuckDB and S3
- Parquet and interoperability 

## Packaging code and data

>  internally developed packages are [...] extra expert team members.[^dataanalysisreuse]

[^dataanalysisreuse]: https://milesmcbain.xyz/posts/data-analysis-reuse/


# Examples of uses cases

## Download files


## Use CORI curated files

## Custom

- Isp over time?
- States level analysis? 

## References

TODO:

McBain (2024, March 11). Before I Sleep: Patterns and anti-patterns of data analysis reuse. Retrieved from https://milesmcbain.com/posts/data-analysis-reuse/

https://www.emilyriederer.com/post/team-of-packages/#collaboration

## Contacts

Website: [https://ruralinnovation.us](https://ruralinnovation.us)


[LinkedIn](https://www.linkedin.com/company/11099658) | [Twitter](https://twitter.com/Ruralinno) | [Facebook](https://www.facebook.com/RuralInno/) | [Instagram](https://www.instagram.com/ruralinno/) | [YouTube](https://www.youtube.com/channel/UCyqbtSrv4Nad9vVv4dQptcA) 
